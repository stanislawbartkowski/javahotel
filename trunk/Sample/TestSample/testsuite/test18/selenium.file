[alias]
EDITLIST:editlist
CLEAR1:clear1button
CLEAR2:clear2button
ROW0://tr[@__gwt_row='0']/td
ROW1://tr[@__gwt_row='1']/td
UTEXT1://tr[@__gwt_row='0']/td[2]//*[@value="1"]
UCELL1://tr[@__gwt_row='0']/td[3]//input
UCELL2://tr[@__gwt_row='0']/td[4]//input
UCELL21://tr[@__gwt_row='1']/td[3]//input
UCELL22://tr[@__gwt_row='1']/td[4]//input

ADDBEFORE2:xpath=(//img[@name='ADDBEFORE'])[2]
VALIDATE:vali
[start]
call:waitforwindow
waitFor:#EDITLIST
click:#EDITLIST
waitFor:#ADDBEFORE2
sleep:3
-- clear
click:#CLEAR1
call:clickyes
sleep:2
click:#CLEAR2
call:clickyes
sleep:5
waitFor:#ADDBEFORE2
click:#ADDBEFORE2
call:clickyes
sleep:1
waitFor:#ADDROW
click:#VALIDATE
sleep:1
waitForNot:#OK
-- check if this row persists
click:#EDITLIST
sleep:1
waitFor:#ADDROW
click:#ROW0
sleep:5
type:#UCELL1|2013/07/10
type:#UCELL2|2013/07/09
--focus:#UCELL1
sleep:5
click:#ADDROW
call:clickyes
-- invalid
sleep:5
type:#UCELL1|2013/07/05
click:#ROW1
focus:#UCELL21
-- enter data to second row0
type:#UCELL21|2013/08/11
type:#UCELL22|2013/08/12
click:#ROW1
sleep:5
click:#VALIDATE
waitFor:#OK
click:#OK
sleep:5
--- again panel
click:#EDITLIST
sleep:1
waitFor:#ROW0
waitFor:#ROW1
click:#ROW1
type:#UCELL21|2013/08/11
type:#UCELL22|2013/08/12
click:#VALIDATE
waitFor:#OK
click:#OK
-- again
click:#EDITLIST
sleep:1
waitFor:#ROW0
waitFor:#ROW1
isPresent://*[@value="2013/07/05"]
isPresent://*[@value="2013/07/05"]
isPresent://*[@value="2013/08/11"]
isPresent://*[@value="2013/08/12"]
-- now remove
click:#ROW0
click:#REMOVEROW
call:clickyes
sleep:2
waitForNot:#ROW1
isPresent://*[@value="2013/08/11"]
isPresent://*[@value="2013/08/12"]
sleep:2
