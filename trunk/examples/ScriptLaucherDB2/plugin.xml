<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

<extension point="org.eclipse.debug.core.launchConfigurationTypes">
    <launchConfigurationType
        name="DB2 script launcher"
        delegate="com.db2.sb.scriptlauncher.DB2ScriptLauncher"
        modes="run"               
        id = "com.db2.sb.scriptlauncher.DB2ScriptLauncher"
     >        
    </launchConfigurationType>
</extension>

<extension point="org.eclipse.debug.ui.launchConfigurationTabGroups">
    <launchConfigurationTabGroup
        type="com.db2.sb.scriptlauncher.DB2ScriptLauncher"
        class="com.db2.sb.scriptlauncher.DB2ScriptTab"
        id="com.db2.sb.scriptlauncher.DB2ScriptTab">
    </launchConfigurationTabGroup>
</extension>

<extension point="org.eclipse.debug.core.launchConfigurationComparators">
	<launchConfigurationComparator
		id="com.db2.sb.scriptlauncher.DB2ScriptLauncherComparator "
		class="com.db2.sb.scriptlauncher.DB2ScriptLauncherComparator "
		attribute="com.db2.sb.scriptlauncher.DB2_ACCESS"/>
</extension>

  <extension
         point="org.eclipse.debug.ui.launchShortcuts">
      <shortcut
            label="Run DB2 script"
            description="TODO: add description"
            icon="icons/full/etool16/java_app.png"
            helpContextId="org.eclipse.jdt.debug.ui.shortcut_local_java_application"
            modes="run"
            class="com.db2.sb.scriptlauncher.DB2ScriptShortCut"
            id="com.db2.sb.scriptlauncher.DB2ScriptShortCut">
         <contextualLaunch>
           <enablement>
             <with variable="selection">
               <count value="1"/>
               <iterate>
                 <or>              
                   <test property="org.eclipse.debug.ui.matchesPattern" value="*.db2"/>
                   <test property="org.eclipse.debug.ui.matchesPattern" value="*.sql"/>
                 </or>                  
               </iterate>
             </with>
           </enablement>
         </contextualLaunch>
       <configurationType
              id="com.db2.sb.scriptlauncher.DB2ScriptLauncher">
       </configurationType>
      </shortcut>
      </extension>

</plugin>
