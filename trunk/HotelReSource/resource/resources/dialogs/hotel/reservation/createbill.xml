<?xml version="1.0"?>
<dialog xmlns="http://www.jythongwt.dialogxsd.com" displayname="@createbill">

        <before />
        
         <types>hotel/typesenum.xml</types>

        <jython>
                <import>from hotelpack.reservation import createbill</import>
                <method>createbill.doaction({0},{1})</method>
        </jython>
        
        <buttons>
                <button id="accept" displayname="@issuebillbutton" />
                <button id="resign" displayname="@resign" actiontype="JCLOSE_DIALOG" />
                <button id="payerdetails" displayname="@payerdetailsbutton" />
        </buttons>
        
        <form>
                <field id="paynow" displayname="@billpaynow" type="bool" />  
                <field id="paymethod" displayname="@paymentmethod" type="custom:paymentmethod" />
                <field id="paymentdate" displayname="@dateofpayment" type="date" />
                <!-- cust description -->
                <field id="payer_name" displayname="@billpayername" readonly=""/>
                <field id="payer_descr" displayname="@billpayerdescription" readonly=""/>
                <field id="payer_firstname" displayname="@firstname" readonly="" />
                <field id="payer_companyname" displayname="@companyname" hidden="" readonly="" />
                <field id="payer_street" displayname="@street" hidden="" />
                <field id="payer_zipcode" displayname="@zipcode" hidden="" readonly="" />
                <field id="payer_email" displayname="@email" hidden="" readonly=""/>
                <field id="payer_phone" displayname="@phone" hidden="" readonly="" />
        </form>

        
        <list id="poslist" pagesize="10">
                <standbutt>TOOLS,FIND,FILTER</standbutt>
                <columns>
                        <column id="billed" displayname="@billed" type="bool" />
                        <column id="idp" type="long" hidden="" />
                        <column id="room" displayname="@roomname" />
                        <column id="resday" type="date" displayname="@staynight" />
                        <column id="servday" type="date" displayname="@stayday" />
                        <column id="guest" displayname="@guestname" />
                        <column id="service" displayname="@servicename" />
                        <column id="servdescr" displayname="@servicedescription" />
                        <column id="total" type="decimal" displayname="@totalprice" footer="" />
                </columns>
       </list>

        <list id="billlist" pagesize="10">
                <standbutt>TOOLS,FIND,FILTER</standbutt>
                <buttons-addlist>acceptafteryes,accept</buttons-addlist>
                <columns>
                        <column id="add" displayname="@addtobill" type="bool" editable="" signalchange="" />
                        <column id="idp" type="long" hidden="" />
                        <column id="room" displayname="@roomname" />
                        <column id="resday" type="date" displayname="@staynight" />
                        <column id="servday" type="date" displayname="@stayday" />
                        <column id="guest" displayname="@guestname" />
                        <column id="service" displayname="@servicename" />
                        <column id="servdescr" displayname="@servicedescription" />
                        <column id="total" type="decimal" displayname="@totalprice" footer="" />
                </columns>
       </list>
       
       <tabpanel id="tab">
                <tabelem id="billlist" displayname="@tabtitlenotpaid" />
                <tabelem id="poslist" displayname="@tabtitlebillable" />
        </tabpanel>


</dialog>