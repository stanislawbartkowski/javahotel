<?xml version="1.0"?>
<dialog xmlns="http://www.jythongwt.dialogxsd.com" displayname="Stay">

	<before />

	<jython>
		<import>from hotelpack.reservation import reserroom</import>
		<method>reserroom.showstay({0},{1})</method>
	</jython>

	<buttons>
		<button id="guestdesc" displayname="Customer details" />
		<button id="changetoreserv" displayname="Change to reservation"
			actiontype="JYESNO_MESSAGE" actionparam="Do you want to change this stay to reservation ?"
			actionparam1="Warning before change" actionparam2="changetoreserv" />
		<button id="addpayment" displayname="Add payment" />
	</buttons>

	<form>
		<field id="resename" hidden="" />
		<field id="name" displayname="Room" readonly="" />
		<field id="nop" type="int" displayname="@nopersons" readonly="" />
		<field id="desc" displayname="@description" readonly="" />
		<!-- cust description -->
		<field id="cust_name" displayname="@name" hidden="" />
		<field id="cust_descr" displayname="Guest description" readonly="" />
		<field id="cust_firstname" displayname="@firstname" readonly="" />
		<field id="cust_companyname" displayname="@companyname" hidden="" />
		<field id="cust_street" displayname="@street" hidden="" />
		<field id="cust_zipcode" displayname="@zipcode" hidden="" />
		<field id="cust_email" displayname="@email" hidden="" />
		<field id="cust_phone" displayname="@phone" hidden="" />

	</form>

	<list id="reslist" displayname="Reservation details" pagesize="5">
		<standbutt>TOOLS,FIND,FILTER</standbutt>
		<columns>
			<column id="name" displayname="@name" />
			<column id="resday" type="date" displayname="Night" />
			<column id="service" displayname="Service" />
			<column id="price" type="decimal" displayname="Price" footer="" />
		</columns>
	</list>
        
        <list id="paymentlist" displayname="Additional payments" pagesize = "5">
                <standbutt>TOOLS,FIND,FILTER</standbutt>
                <columns>
                        <column id="roomid" displayname="@name" />
                        <column id="guestid" displayname="Guest" actionid="guestdetail" />
                        <column id="guestdescr" displayname="Descrption" />
                        <column id="guestfirstname" displayname="First name" />                        
                        <column id="servdescr" displayname="@description" />
                        <column id="quantity" displayname="Quantity" type="int" />
                        <column id="price" type="decimal" displayname="Price" />
                        <column id="total" type="decimal" displayname="Payment" footer = "" />
                </columns>
        </list>  

        <list id="billlist" displayname="Bills" pagesize = "5">
                <standbutt>TOOLS,FIND,FILTER</standbutt>
                <columns>
                        <column id="name" displayname="Bill number" />
                        <column id="payerid" displayname="Payer" actionid="payerdetail" />
                        <column id="payerdescr" displayname="Description" />
                        <column id="billtotal" type="decimal" displayname="Total" footer = "" />
                </columns>
        </list>

        <tabpanel id="tab">
                <tabelem id="reslist" displayname="Hotel services" />
                <tabelem id="paymentlist" displayname="Other services" />
                <tabelem id="billlist" displayname="Bill list" /> 
        </tabpanel>


</dialog>