<?xml version="1.0"?>
<dialog xmlns="http://www.jythongwt.dialogxsd.com" displayname="@stay">

	<before />

	<jython>
		<import>from hotelpack.reservation import reserroom</import>
		<method>reserroom.showstay({0},{1})</method>
	</jython>

	<buttons>
		<button id="guestdesc" displayname="@guestdetails" />
		<button id="changetoreserv" displayname="@changetoreservationbutton"
			actiontype="JYESNO_MESSAGE" actionparam="@changetoreservationask"
			actionparam1="@confirmation" />
		<button id="addpayment" displayname="@addpaymentbutton" />
                <button id="createbill" displayname="@createbill" actiontype="JUP_DIALOG"
                        actionparam="hotel/reservation/createbill.xml" actionparam2="afterbill"/>

	</buttons>

	<form>
               <field id="billlistwaschanged" type="bool" hidden="" />
		<field id="resename" hidden="" />
		<field id="name" displayname="@roomname" readonly="" />
		<field id="nop" type="int" displayname="@nopersons" readonly="" />
		<field id="desc" displayname="@roomdescription" readonly="" />
		<!-- cust description -->
		<field id="cust_name" displayname="@guestname" hidden="" />
		<field id="cust_descr" displayname="@guestdescription" readonly="" />
		<field id="cust_firstname" displayname="@guestfirstname" readonly="" />
		<field id="cust_companyname" hidden="" />
		<field id="cust_street" hidden="" />
		<field id="cust_zipcode" hidden="" />
		<field id="cust_email" hidden="" />
		<field id="cust_phone" hidden="" />

	</form>

	<list id="reslist" pagesize="5">
		<standbutt>TOOLS,FIND,FILTER</standbutt>
		<columns>
			<column id="name" displayname="@name" />
			<column id="resday" type="date" displayname="@staynight" />
			<column id="service" displayname="@servicename" />
			<column id="price" type="decimal" displayname="@totalprice" footer="" />
		</columns>
	</list>
        
        <list id="paymentlist" pagesize = "5">
                <standbutt>TOOLS,FIND,FILTER</standbutt>
                <columns>
                        <column id="roomid" displayname="@roomname" />
                        <column id="guestid" displayname="@guestname" actionid="guestdetail" />
                        <column id="guestdescr" displayname="@guestdescription" />
                        <column id="guestfirstname" displayname="@guestfirstname" />                        
                        <column id="servdescr" displayname="@servicedescription" />
                        <column id="quantity" displayname="@quantity" type="int" />
                        <column id="price" type="decimal" displayname="@price" />
                        <column id="total" type="decimal" displayname="@totalprice" footer = "" />
                </columns>
        </list>  

        <list id="billlist" pagesize="5" elemformat="hotel/reservation/billdesc.xml">
                <standbutt>TOOLS,FIND,FILTER,SHOW,REMOVE</standbutt>
                <columns>
                        <column id="billname" displayname="@billname" />
                        <column id="payerid" displayname="@billpayername" actionid="payerdetail" />
                        <column id="payerdescr" displayname="@billpayerdescription" />
                        <column id="billtotal" type="decimal" displayname="@totalprice" footer = "" />
                        <column id="payments" type="decimal" displayname="@paymentsum" footer = "" actionid="paymentslist" />
                </columns>
        </list>

        <tabpanel id="tab">
                <tabelem id="reslist" displayname="Hotel services" />
                <tabelem id="paymentlist" displayname="Other services" />
                <tabelem id="billlist" displayname="Bill list" /> 
        </tabpanel>


</dialog>